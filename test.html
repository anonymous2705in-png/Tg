<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üöÄ Telegram File Uploader (All File Types)</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    background: radial-gradient(circle at top left, #0d1117, #161b22);
    color: #e6edf3;
    margin: 0;
    padding: 0;
  }
  .container {
    max-width: 500px;
    margin: 40px auto;
    background: #1c1f26;
    border-radius: 18px;
    box-shadow: 0 0 25px rgba(0,0,0,0.4);
    padding: 25px;
    animation: fadeIn 0.7s ease;
  }
  h2 {
    text-align: center;
    font-size: 1.3em;
    color: #58a6ff;
  }
  input, button, textarea {
    width: 100%;
    margin-top: 10px;
    padding: 12px;
    border-radius: 8px;
    border: none;
    outline: none;
    font-size: 15px;
  }
  input[type="file"] {
    background: #0d1117;
    color: #e6edf3;
    cursor: pointer;
  }
  button {
    font-weight: 600;
    cursor: pointer;
    transition: 0.2s;
  }
  .btn-upload {
    background: linear-gradient(90deg,#238636,#2ea043);
    color: white;
  }
  .btn-upload:hover {
    background: linear-gradient(90deg,#2ea043,#3fb950);
  }
  .log-box {
    background: #0d1117;
    padding: 10px;
    margin-top: 15px;
    border-radius: 8px;
    height: 160px;
    overflow-y: auto;
    font-size: 13px;
    white-space: pre-wrap;
  }
  .link-box {
    background: #0d1117;
    padding: 10px;
    margin-top: 15px;
    border-radius: 8px;
  }
  a.download-link {
    color: #58a6ff;
    text-decoration: none;
    display: block;
    padding: 5px 0;
  }
  a.download-link:hover {
    text-decoration: underline;
  }
  @keyframes fadeIn {
    from {opacity:0; transform:translateY(10px);}
    to {opacity:1; transform:translateY(0);}
  }
</style>
</head>
<body>
  <div class="container">
    <h2>üì§ Telegram ‚Äî Upload as Document (All File Types)</h2>
    <input type="file" id="fileInput" multiple>
    <textarea id="caption" rows="2" placeholder="Enter caption (optional)"></textarea>
    <input type="text" id="botToken" placeholder="Enter Telegram Bot Token">
    <input type="text" id="chatId" placeholder="Enter Telegram Chat ID">
    <button class="btn-upload" onclick="uploadFiles()">üöÄ Upload to Telegram</button>
    
    <div class="log-box" id="log"></div>
    <div class="link-box" id="links"></div>
  </div>

<script>
async function uploadFiles() {
  const files = document.getElementById('fileInput').files;
  const botToken = document.getElementById('botToken').value.trim();
  const chatId = document.getElementById('chatId').value.trim();
  const caption = document.getElementById('caption').value.trim();
  const log = document.getElementById('log');
  const links = document.getElementById('links');

  log.textContent = '';
  links.innerHTML = '';

  if (!botToken || !chatId) {
    log.textContent = '‚ùå Please enter your Bot Token and Chat ID.';
    return;
  }
  if (files.length === 0) {
    log.textContent = '‚ö†Ô∏è Please select at least one file.';
    return;
  }

  for (const file of files) {
    log.textContent += `\nüì¶ Uploading ${file.name}...\n`;
    const formData = new FormData();
    formData.append('chat_id', chatId);
    formData.append('caption', caption || file.name);
    formData.append('document', file);

    try {
      const res = await fetch(`https://api.telegram.org/bot${botToken}/sendDocument`, {
        method: 'POST',
        body: formData
      });
      const data = await res.json();

      if (data.ok) {
        const msg = data.result;
        const fileId = msg.document.file_id;
        const fileName = msg.document.file_name || file.name;

        // Generate download link
        const filePath = await getFilePath(botToken, fileId);
        const fileLink = `https://api.telegram.org/file/bot${botToken}/${filePath}`;

        log.textContent += `‚úÖ Uploaded: ${fileName}\n`;
        const a = document.createElement('a');
        a.href = fileLink;
        a.target = '_blank';
        a.className = 'download-link';
        a.textContent = `‚¨áÔ∏è ${fileName}`;
        links.appendChild(a);
      } else {
        log.textContent += `‚ùå Failed: ${file.name}\n${JSON.stringify(data)}\n`;
      }
    } catch (err) {
      log.textContent += `‚ö†Ô∏è Error uploading ${file.name}: ${err}\n`;
    }
  }
}

async function getFilePath(botToken, fileId) {
  const res = await fetch(`https://api.telegram.org/bot${botToken}/getFile?file_id=${fileId}`);
  const data = await res.json();
  if (data.ok) {
    return data.result.file_path;
  } else {
    throw new Error('Cannot get file path');
  }
}
</script>
</body>
</html>
